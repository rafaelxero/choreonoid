# Use the following variables to compile and link against Choreonoid:
# CHOREONOID_FOUND            - True if Choreonoid was found on your system
# CHOREONOID_VERSION_STRING   - A human-readable string containing the version
# CHOREONOID_VERSION_MAJOR    - The major version of Choreonoid
# CHOREONOID_VERSION_MINOR    - The minor version of Choreonoid
# CHOREONOID_VERSION_PATCH    - The patch version of Choreonoid
# CHOREONOID_ROOT_DIR         - The base directory of Choreonoid
# CHOREONOID_DEFINITIONS      - Definitions needed to build with Choreonoid
# CHOREONOID_INCLUDE_DIRS     - List of directories of Choreonoid and it's dependencies
# CHOREONOID_LIBRARY_DIRS     - List of directories of Choreonoid and it's dependencies
# CHOREONOID_LIBRARIES        - List of directories of Choreonoid and it's dependencies

set(CHOREONOID_ROOT_DIR "@CNOID_DIR@")

set(CHOREONOID_VERSION_STRING "@CNOID_FULL_VERSION@")
set(CHOREONOID_VERSION_MAJOR "@CNOID_MAJOR_VERSION@")
set(CHOREONOID_VERSION_MINOR "@CNOID_MINOR_VERSION@")
set(CHOREONOID_VERSION_PATCH "@CNOID_PATCH_VERSION@")

set(CHOREONOID_DEFINITIONS @definitions@)
set(CHOREONOID_INCLUDE_DIRS @include_dirs@)
set(CHOREONOID_LIBRARY_DIRS @library_dirs@)
set(CHOREONOID_UTIL_LIBRARIES CnoidUtil)
set(CHOREONOID_BASE_LIBRARIES ${CHOREONOID_UTIL_LIBRARIES} CnoidBase)
set(CHOREONOID_BODY_LIBRARIES ${CHOREONOID_UTIL_LIBRARIES} CnoidBody)
set(CHOREONOID_BODY_PLUGIN_LIBRARIES ${CHOREONOID_BASE_LIBRARIES} CnoidBody CnoidBodyPlugin)
set(CHOREONOID_LIBRARIES ${CNOD_BODY_LIBRARIES} ${CHOREONOID_BODY_PLUGIN_LIBRARIES})
set(CHOREONOID_PLUGIN_SUBDIR @CNOID_PLUGIN_SUBDIR@)
set(CHOREONOID_PLUGIN_DIR @CNOID_DIR@/@CNOID_PLUGIN_SUBDIR@)

MARK_AS_ADVANCED(
  CHOREONOID_ROOT_DIR
  CHOREONOID_INCLUDE_DIRS
  CHOREONOID_LIBRARIES
  CHOREONOID_Boost_VERSION
  CHOREONOID_CFLAGS_OTHER
  CHOREONOID_LDFLAGS_OTHER
  CHOREONOID_LIBRARY_SUFFIX
  )

function(cnoid_make_gettext_mofiles target out_mofiles)
  set(${out_mofiles} "" PARENT_SCOPE)
  file(GLOB pofiles ${CMAKE_CURRENT_SOURCE_DIR}/po/*.po)
  foreach(pofile ${pofiles})
    get_filename_component(lang ${pofile} NAME_WE)
    set(message_location share/locale/${lang}/LC_MESSAGES)
    file(MAKE_DIRECTORY ${PROJECT_BINARY_DIR}/${message_location})
    set(version "${CHOREONOID_VERSION_MAJOR}.${CHOREONOID_VERSION_MINOR}")
    set(mofile ${PROJECT_BINARY_DIR}/${message_location}/${target}-${version}.mo)
    add_custom_command(
      OUTPUT ${mofile}
      COMMAND msgfmt -o ${mofile} ${pofile}
      DEPENDS ${pofile}
      )
    list(APPEND mofiles ${mofile})
    install(FILES ${mofile} DESTINATION "share/locale/${lang}/LC_MESSAGES")
  endforeach()
  set(${out_mofiles} ${mofiles} PARENT_SCOPE)
endfunction()
